<!DOCTYPE html>
<html>

<head>
	<title>Example 2</title>
	<script src=
"https://ajax.googleapis.com/ajax/libs/jquery/3.6.1/jquery.min.js">
	</script>
	<script src=
"https://cdn.jsdelivr.net/npm/chart.js@4.0.1/dist/chart.umd.min.js">
	</script>
</head>
<style>
	#chart1 {
		display: inline-block;
		position: relative;
		width: 50%;
	}

	element {
		display: block;
		box-sizing: border-box;
		height: 513.85px;
		width: 514.567px;
	}
</style>

<body>
	<h1 style="color: green;">
		GeeksforGeeks
	</h1>
	<h3>
		Approach 2: Using
		Chart.js Plugin
	</h3>

    <div style="border: 2px dotted green; width: 300px;">
      
	<canvas id="chart1"
			style="display: block; 
				box-sizing: border-box; 
				height: 300px; 
				width: 300px;" 
			width="300" height="300">
	</canvas>
    </div>
	<script>
		const data = {
			labels: 
			["HHTMLHTMLHTMLTML", "JJavaJavaJavaJavaJavaava", 
			"PPythonPythonPythonPythonython", "JJavaScriptJavaScriptJavaScriptJavaScriptJavaScriptavaScript"],
			datasets: [{
				data: [20, 30, 10, 25],
				backgroundColor: 
				["#FFCE56", "#FF6384", 
				"#4CAF50", "#9C27B0"]
			}]
		};
		const options = {
			plugins: {
				legend: true,
				tooltip: {
					callbacks: {
						label: function (tooltipItem, data) {
							const label = 
							data.labels[tooltipItem.index] || '';
							const value = 
							data.datasets[0].data[tooltipItem.index];
							return `${label}: ${value}%`;
						}
					}
				},
				textInside: {
					text: "GeeksforGeeks",
					color: 'green',
					fontSize: 52
				}
			}
		};
		Chart.register({
			id: 'textInside',
			afterDatasetsDraw: function (chart, _) {
				const ctx = chart.ctx;
				const width = chart.width;
				const height = chart.height;
				const fontSize = options.plugins.textInside.fontSize;
				ctx.font = fontSize + 'px Arial';
				ctx.fillStyle = options.plugins.textInside.color;
				ctx.textAlign = 'center';
				ctx.textBaseline = 'middle';
				const text = options.plugins.textInside.text;
				const textX = Math.round(width / 2);
				const textY = Math.round(height / 2);
				ctx.fillText(text, textX, textY);
			}
		});
		const textChart = 
		new Chart(document.getElementById('chart1'), {
			type: 'doughnut',
			data: data,
			options: options,
			responsive: true
		});
	</script>
</body>
