{% extends "comun/base.html" %}
{% load static %}

{% block scripts %}
<script src="{% static 'js/homepage.js' %}"></script>
<script src="https://code.highcharts.com/12/highcharts.js"></script>
<script>
Highcharts.chart('container', {
    chart: {
        type: 'pie',
        custom: {},
        events: {
            render() {
                const chart = this,
                    series = chart.series[0];
                let customLabel = chart.options.chart.custom.label;

                if (!customLabel) {
                    customLabel = chart.options.chart.custom.label =
                        chart.renderer.label('<strong>2 877 820</strong>')
                            .css({
                                color:
                                    'var(--highcharts-neutral-color-100, #000)',
                                textAnchor: 'middle'
                            })
                                .add();
                }

                const x = series.center[0] + chart.plotLeft,
                    y = series.center[1] + chart.plotTop -
                    (customLabel.attr('height') / 2);

                customLabel.attr({
                    'x': x,
                    'y': y,
                });
                // Set font size based on chart diameter
                customLabel.css({
                    fontSize: `${series.center[2] / 12}px`
                });
            }
        }
    },
    accessibility: {
        point: {
            valueSuffix: '%'
        }
    },
    title: {
        text: '2023 Norway car registrations'
    },
    tooltip: {
        pointFormat: '{series.name}: <b>{point.percentage:.0f}%</b>'
    },
    legend: {
        enabled: false
    },
    plotOptions: {
        series: {
            allowPointSelect: true,
            cursor: 'pointer',
            borderRadius: 4,
            showInLegend: !true
        }
    },
    series: [{
        name: 'Registrations',
        colorByPoint: true,
        innerSize: '60%',
        data: [{
            name: 'EV',
            y: 23.9
        }, {
            name: 'Hybrids',
            y: 12.6
        }, {
            name: 'Diesel',
            y: 37.0
        }, {
            name: 'Petrol',
            y: 26.4
        }]
    }]
});
</script>
{% endblock scripts %}

{% block content %}

<div class="container text-center">

  <div class="row">

    <div class="col">
  
      <div class="card">
        <div class="card-header">
        <h3 class="card-title">
        Sistemas de información
        </h3>
       </div>
       <div class="card-body">

         <div>
         
         <canvas id="myChart" width="300">
         </canvas>
         </div>

       <p class="card-text">
        Conjunto organizado de elementos interrelacionados (personas,
        procesos, datos, tecnología y recursos) que trabajan juntos para
        recopilar, procesar, almacenar, distribuir y gestionar
        información con el fin de apoyar la toma de decisiones, la
        coordinación operativa y el control dentro de una organización.
        </p>
    
        <a href="{% url 'sistemas:index' %}" class="btn btn-primary">Ver sistemas</a>
        </div>
      </div>
    </div>

    <div class="col">
      <div class="card">
       <div class="card-header">
        <h3 class="card-title">
        Activos de datos
        </h3>
       </div>
       <div class="card-body">
         <p class="card-text">
    
         <img width="256" height="256"
         src="/comun/charts/doughnut/">


         Es cualquier recurso de datos con valor para el desarrollo de
         las funciones de una organización, que puede ser comprendido y
         tratado como una única unidad a efectos de gestión, uso,
         protección e intercambio.
         </p>
         <a href="{% url 'sistemas:index' %}" class="btn
             btn-primary">Ver activos de datos</a>

        </div>
      </div>
    </div>

    <div class="col">
      <div class="card">
       <div class="card-header">
       Más informacióm
       </div>
       <div class="card-body">
           
        <div id="container" style="width:100%; height:400px;"></div>

        <ul class="list-group">
          <li class="list-group-item">
              <a href="{% url 'normativa:index' %}">
              Normativa
            </a>  
          </li>
          <li class="list-group-item">
              <a href="{% url 'glosario:index' %}">
              Glosario de términos
            </a>  
          </li>

          <li class="list-group-item">
              <a href="{% url 'directorio:index' %}">
              Organigrama y directorio
            </a>  
          </li>

          <li class="list-group-item">
              <a href="{% url 'sistemas:listado_temas' %}">
              Áreas temáticas
            </a>  
          </li>

        </ul>
        </div>


      </div>
    </div>
  </div><!-- de row -->
</div>



{% endblock content %}
